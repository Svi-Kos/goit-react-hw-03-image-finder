{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","services/apiSevice.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSearchQuery","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","showLargeImage","basicLightbox","target","alt","show","images","map","image","onClick","src","webformatURL","largeImageURL","ImageGalleryItemImage","id","Button","centered","onLoadMore","ImageGallery","error","status","prevProps","prevState","selfSearchQuery","selfStatePage","elemScrollTo","document","querySelector","loadImagesByQuery","imageAPI","newImages","hits","length","alert","catch","lastElementChild","scrollIntoView","behavior","window","scrollBy","top","color","height","width","style","textAlign","message","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8018150b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__sKK2t\",\"centered\":\"Button_centered__8sa1i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__oEFCg\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__8Kuty\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1I0S4\"};","import React, { Component } from 'react';\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","function fetchImages(query, page) {\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=18966198-cc77d794ba7550ec695901208&image_type=photo&orientation=horizontal&per_page=12`;\n  const errorMessage = 'Please enter more specific query';\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(errorMessage));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { Component } from 'react';\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nclass ImageGalleryItem extends Component {\n  showLargeImage = event => {\n    const instance = basicLightbox.create(`\n      <img src=\"${event.target.alt}\" alt=\"${event.target.alt}\" width=\"800\" height=\"600\">\n  `);\n\n    instance.show();\n  };\n\n  render() {\n    const { images } = this.props;\n    return (\n      <>\n        {images &&\n          images.map(image => (\n            <li\n              className={s.ImageGalleryItem}\n              key={image.id}\n              onClick={this.showLargeImage}\n            >\n              <img\n                src={image.webformatURL}\n                alt={image.largeImageURL}\n                className={s.ImageGalleryItemImage}\n              />\n            </li>\n          ))}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import s from '../Button/Button.module.css';\n\nconst Button = props => (\n  <div className={s.centered}>\n    <button type=\"button\" className={s.Button} onClick={props.onLoadMore}>\n      Load More\n    </button>\n  </div>\n);\n\nexport default Button;\n","import React, { Component } from 'react';\nimport imageAPI from '../../services/apiSevice';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const selfSearchQuery = this.props.searchQuery;\n    const selfStatePage = this.state.page;\n    const errorMessage = 'Please enter more specific query';\n    let elemScrollTo = document.querySelector('#root ul');\n\n    const loadImagesByQuery = (selfSearchQuery, selfStatePage) => {\n      imageAPI\n        .fetchImages(selfSearchQuery, selfStatePage)\n        .then(newImages => {\n          this.setState({\n            images: [...prevState.images, ...newImages.hits],\n            status: 'resolved',\n          });\n          if (newImages.length === 0) {\n            alert(errorMessage);\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    };\n\n    if (prevProps.searchQuery !== selfSearchQuery) {\n      prevState.images = [];\n      this.setState({ images: [], status: 'pending', page: 1 });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n\n    if (prevState.page !== selfStatePage) {\n      this.setState({ status: 'pending' });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n\n      if (elemScrollTo !== null) {\n        elemScrollTo = elemScrollTo.lastElementChild;\n\n        elemScrollTo.scrollIntoView({\n          behavior: 'smooth',\n        });\n        window.scrollBy({\n          top: -1,\n          behavior: 'smooth',\n        });\n      }\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(({ page }) => ({\n      page: page + 1,\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <></>;\n    }\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#303f9f\"\n          height={80}\n          width={80}\n          style={{ textAlign: 'center' }}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <p>{error.message}</p>;\n    }\n\n    if (status === 'resolved' && images.length !== 0) {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            <ImageGalleryItem images={images} />\n          </ul>\n          <Button onLoadMore={this.onLoadMore} />\n        </>\n      );\n    } else {\n      return <></>;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1WtTK\",\"SearchForm\":\"Searchbar_SearchForm__3TP2H\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1sqnr\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hjgW8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sOMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1463X\"};"],"sourceRoot":""}