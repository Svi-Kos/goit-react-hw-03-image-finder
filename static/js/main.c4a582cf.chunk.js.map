{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","services/apiSevice.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSearchQuery","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","showLargeImage","imgModalSrc","images","image","target","src","webformatURL","largeImageURL","basicLightbox","alt","show","map","onClick","tags","ImageGalleryItemImage","id","Button","centered","onLoadMore","ImageGallery","error","status","prevProps","prevState","selfSearchQuery","selfStatePage","loadImagesByQuery","imageAPI","newImages","hits","length","alert","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","style","textAlign","message","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c4a582cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1463X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__sKK2t\",\"centered\":\"Button_centered__8sa1i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__oEFCg\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__8Kuty\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1I0S4\"};","import React, { Component } from 'react';\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","function fetchImages(query, page) {\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=18966198-cc77d794ba7550ec695901208&image_type=photo&orientation=horizontal&per_page=12`;\n  const errorMessage = 'Please enter more specific query';\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(errorMessage));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import React, { Component } from 'react';\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nclass ImageGalleryItem extends Component {\n  showLargeImage = event => {\n    let imgModalSrc;\n    for (let image of this.props.images) {\n      if (event.target.src === image.webformatURL) {\n        imgModalSrc = image.largeImageURL;\n      }\n    }\n\n    const instance = basicLightbox.create(`\n      <img src=\"${imgModalSrc}\" alt=\"${event.target.alt}\" width=\"800\" height=\"600\">\n  `);\n\n    instance.show();\n  };\n\n  render() {\n    const { images } = this.props;\n    return (\n      <>\n        {images &&\n          images.map(image => (\n            <li\n              className={s.ImageGalleryItem}\n              key={image.id}\n              onClick={this.showLargeImage}\n            >\n              <img\n                src={image.webformatURL}\n                alt={image.tags}\n                className={s.ImageGalleryItemImage}\n              />\n            </li>\n          ))}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import s from '../Button/Button.module.css';\n\nconst Button = props => (\n  <div className={s.centered}>\n    <button type=\"button\" className={s.Button} onClick={props.onLoadMore}>\n      Load More\n    </button>\n  </div>\n);\n\nexport default Button;\n","import React, { Component } from 'react';\nimport imageAPI from '../../services/apiSevice';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const selfSearchQuery = this.props.searchQuery;\n    const selfStatePage = this.state.page;\n    const errorMessage = 'Please enter more specific query';\n    // let elemScrollTo = document.querySelector('#root ul');\n\n    const loadImagesByQuery = (selfSearchQuery, selfStatePage) => {\n      imageAPI\n        .fetchImages(selfSearchQuery, selfStatePage)\n        .then(newImages => {\n          this.setState({\n            images: [...prevState.images, ...newImages.hits],\n            status: 'resolved',\n          });\n          if (newImages.length === 0) {\n            alert(errorMessage);\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    };\n\n    if (prevProps.searchQuery !== selfSearchQuery) {\n      prevState.images = [];\n      this.setState({ images: [], status: 'pending', page: 1 });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n\n    if (prevState.page !== selfStatePage) {\n      this.setState({ status: 'pending' });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(({ page }) => ({\n      page: page + 1,\n      status: 'resolved',\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#303f9f\"\n          height={80}\n          width={80}\n          style={{ textAlign: 'center' }}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <p>{error.message}</p>;\n    }\n\n    if (status === 'resolved' && images.length !== 0) {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            <ImageGalleryItem images={images} />\n          </ul>\n          <Button onLoadMore={this.onLoadMore} />\n        </>\n      );\n    } else {\n      return <></>;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1WtTK\",\"SearchForm\":\"Searchbar_SearchForm__3TP2H\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1sqnr\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hjgW8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sOMK\"};"],"sourceRoot":""}