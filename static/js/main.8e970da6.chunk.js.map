{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","services/apiSevice.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSearchQuery","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","largeImageURL","tags","src","alt","data-source","ImageGalleryItemImage","onClick","basicLightbox","show","Button","centered","onLoadMore","ImageGallery","images","error","status","prevProps","prevState","selfSearchQuery","selfStatePage","loadImagesByQuery","imageAPI","newImages","hits","window","scrollTo","top","document","documentElement","scrollHeight","scrollBy","length","alert","catch","color","height","width","style","textAlign","message","map","id","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,OAAS,uBAAuB,SAAW,2B,mBCA7DD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,iBAAmB,uCAAuC,sBAAwB,8C,uLCmDvIC,E,4MA/CbC,MAAQ,CACNC,YAAa,I,EAGfC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEH,YAAaE,EAAME,cAAcC,MAAMC,iB,EAGzDC,aAAe,SAAAL,GACbA,EAAMM,iBAEgC,KAAlC,EAAKT,MAAMC,YAAYS,SAI3B,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,aAE/B,EAAKG,SAAS,CAAEH,YAAa,O,uDAI7B,OACE,wBAAQY,UAAWC,IAAEf,UAArB,SACE,uBAAMc,UAAWC,IAAEC,WAAYH,SAAUI,KAAKR,aAA9C,UACE,wBAAQS,KAAK,SAASJ,UAAWC,IAAEI,iBAAnC,SACE,sBAAML,UAAWC,IAAEK,sBAAnB,sBAGF,uBACEN,UAAWC,IAAEM,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZjB,MAAOU,KAAKhB,MAAMC,YAClBuB,SAAUR,KAAKd,6B,GApCHuB,a,QCQxB,IAIeC,EAJH,CACVC,YAbF,SAAqBC,EAAOC,GAC1B,IAAMC,EAAG,qCAAiCF,EAAjC,iBAA+CC,EAA/C,+FAGT,OAAOE,MAAMD,GAAKE,MAAK,SAAAC,GACrB,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MANP,0C,8BC+BRC,MA5Bf,YAAkE,IAAtCC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,cAAeC,EAAQ,EAARA,KASvD,OACE,oBAAI7B,UAAWC,IAAEyB,iBAAjB,SACE,qBACEI,IAAKH,EACLI,IAAKF,EACLG,cAAaJ,EACb5B,UAAWC,IAAEgC,sBACbC,QAfN,WACmBC,SAAA,8BACDP,EADC,kBACsBC,EADtB,sCAIRO,a,iBCIEC,EAZA,SAAAvC,GAAK,OAClB,qBAAKE,UAAWC,IAAEqC,SAAlB,SACE,wBAAQlC,KAAK,SAASJ,UAAWC,IAAEoC,OAAQH,QAASpC,EAAMyC,WAA1D,0B,0CCyGWC,E,4MApGbrD,MAAQ,CACNsD,OAAQ,GACRC,MAAO,KACPC,OAAQ,OACR3B,KAAM,G,EA6CRuB,WAAa,WACX,EAAKhD,UAAS,kBAAe,CAC3ByB,KADY,EAAGA,KACF,EACb2B,OAAQ,gB,iEA7COC,EAAWC,GAAY,IAAD,OACjCC,EAAkB3C,KAAKL,MAAMV,YAC7B2D,EAAgB5C,KAAKhB,MAAM6B,KAG3BgC,EAAoB,SAACF,EAAiBC,GAC1CE,EACGnC,YAAYgC,EAAiBC,GAC7B5B,MAAK,SAAA+B,GACJ,EAAK3D,SAAS,CACZkD,OAAO,GAAD,mBAAMI,EAAUJ,QAAhB,YAA2BS,EAAUC,OAC3CR,OAAQ,aAGVS,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,eAEhCL,OAAOM,SAAS,CACdJ,KAAM,MAGiB,IAArBJ,EAAUS,QACZC,MAnBa,uCAsBhBC,OAAM,SAAAnB,GAAK,OAAI,EAAKnD,SAAS,CAAEmD,QAAOC,OAAQ,iBAG/CC,EAAUxD,cAAgB0D,IAC5BD,EAAUJ,OAAS,GACnBtC,KAAKZ,SAAS,CAAEkD,OAAQ,GAAIE,OAAQ,UAAW3B,KAAM,IAErDgC,EAAkBF,EAAiBC,IAGjCF,EAAU7B,OAAS+B,IACrB5C,KAAKZ,SAAS,CAAEoD,OAAQ,YAExBK,EAAkBF,EAAiBC,M,+BAW7B,IAAD,EAC2B5C,KAAKhB,MAA/BsD,EADD,EACCA,OAAQC,EADT,EACSA,MAAOC,EADhB,EACgBA,OAEvB,MAAe,YAAXA,EAEA,cAAC,IAAD,CACEvC,KAAK,YACL0D,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,MAAO,CAAEC,UAAW,YAKX,aAAXvB,EACK,4BAAID,EAAMyB,UAGJ,aAAXxB,GAA2C,IAAlBF,EAAOkB,OAEhC,qCACE,oBAAI3D,UAAWC,IAAEuC,aAAjB,SACGC,EAAO2B,KAAI,gBAAGC,EAAH,EAAGA,GAAI1C,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,KAApC,OACV,cAAC,EAAD,CAEEF,aAAcA,EACdC,cAAeA,EACfC,KAAMA,GAHDwC,QAOX,cAAC,EAAD,CAAQ9B,WAAYpC,KAAKoC,gBAIxB,S,GA7FgB3B,aCgBZ0D,G,kNAlBbnF,MAAQ,CACNC,YAAa,I,EAGfmF,iBAAmB,SAAAnF,GACjB,EAAKG,SAAS,CAAEH,iB,uDAIhB,OACE,gCACE,cAAC,EAAD,CAAWW,SAAUI,KAAKoE,mBAC1B,cAAC,EAAD,CAAcnF,YAAae,KAAKhB,MAAMC,qB,GAb5BwB,cCMH4D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3B,SAAS4B,eAAe,SAM1BX,K,kBChBAxF,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,kBCAhPD,EAAOC,QAAU,CAAC,sBAAwB,mD","file":"static/js/main.8e970da6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__sKK2t\",\"centered\":\"Button_centered__8sa1i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__oEFCg\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__8Kuty\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1I0S4\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSearchQuery = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleSearchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","function fetchImages(query, page) {\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=18966198-cc77d794ba7550ec695901208&image_type=photo&orientation=horizontal&per_page=12`;\n  const errorMessage = 'Please enter more specific query';\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(errorMessage));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import s from '../ImageGalleryItem/ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags }) {\n  function showLargeImage() {\n    const instance = basicLightbox.create(`\n        <img src=\"${largeImageURL}\" alt=\"${tags}\" width=\"800\" height=\"600\">\n    `);\n\n    instance.show();\n  }\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        className={s.ImageGalleryItemImage}\n        onClick={showLargeImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import s from '../Button/Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = props => (\n  <div className={s.centered}>\n    <button type=\"button\" className={s.Button} onClick={props.onLoadMore}>\n      Load More\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport imageAPI from '../../services/apiSevice';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from '../ImageGallery/ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const selfSearchQuery = this.props.searchQuery;\n    const selfStatePage = this.state.page;\n    const errorMessage = 'Please enter more specific query';\n\n    const loadImagesByQuery = (selfSearchQuery, selfStatePage) => {\n      imageAPI\n        .fetchImages(selfSearchQuery, selfStatePage)\n        .then(newImages => {\n          this.setState({\n            images: [...prevState.images, ...newImages.hits],\n            status: 'resolved',\n          });\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n          });\n          window.scrollBy({\n            top: -600,\n          });\n\n          if (newImages.length === 0) {\n            alert(errorMessage);\n          }\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    };\n\n    if (prevProps.searchQuery !== selfSearchQuery) {\n      prevState.images = [];\n      this.setState({ images: [], status: 'pending', page: 1 });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n\n    if (prevState.page !== selfStatePage) {\n      this.setState({ status: 'pending' });\n\n      loadImagesByQuery(selfSearchQuery, selfStatePage);\n    }\n  }\n\n  onLoadMore = () => {\n    this.setState(({ page }) => ({\n      page: page + 1,\n      status: 'resolved',\n    }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n\n    if (status === 'pending') {\n      return (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#303f9f\"\n          height={80}\n          width={80}\n          style={{ textAlign: 'center' }}\n        />\n      );\n    }\n\n    if (status === 'rejected') {\n      return <p>{error.message}</p>;\n    }\n\n    if (status === 'resolved' && images.length !== 0) {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n              <ImageGalleryItem\n                key={id}\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                tags={tags}\n              />\n            ))}\n          </ul>\n          <Button onLoadMore={this.onLoadMore} />\n        </>\n      );\n    }\n    return null;\n  }\n}\n\nImageGallery.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1WtTK\",\"SearchForm\":\"Searchbar_SearchForm__3TP2H\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1sqnr\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hjgW8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sOMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1463X\"};"],"sourceRoot":""}